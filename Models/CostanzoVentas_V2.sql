-- MySQL Script generated by MySQL Workbench
-- Tue Dec 14 11:58:46 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema CostanzoVentas
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `CostanzoVentas` ;

-- -----------------------------------------------------
-- Schema CostanzoVentas
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `CostanzoVentas` DEFAULT CHARACTER SET utf8 ;
USE `CostanzoVentas` ;

-- -----------------------------------------------------
-- Table `CostanzoVentas`.`USUARIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`USUARIOS` (
  `ID_USUARIO` INT NOT NULL,
  `USER` VARCHAR(25) NULL,
  `PASSWORD` VARCHAR(35) NULL,
  `STATUS` ENUM('ACTIVADO', 'DESACTIVADO') NULL,
  PRIMARY KEY (`ID_USUARIO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`CLIENTES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`CLIENTES` (
  `ID_CLIENTE` INT NOT NULL,
  `NOMBRE` VARCHAR(50) NULL,
  `APELLIDO_P` VARCHAR(50) NULL,
  `APELLIDO_M` VARCHAR(50) NULL,
  `RFC` VARCHAR(20) NULL,
  `OBSERVACION` VARCHAR(200) NULL,
  `ID_USUARIO` INT NULL,
  PRIMARY KEY (`ID_CLIENTE`),
  CONSTRAINT `ID_USUARIO_CLIENT`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `CostanzoVentas`.`USUARIOS` (`ID_USUARIO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_USUARIO_CLIENT_idx` ON `CostanzoVentas`.`CLIENTES` (`ID_USUARIO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`ESTADOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`ESTADOS` (
  `ID_ESTADO` INT NOT NULL,
  `NOM_EDO` VARCHAR(60) NULL,
  `ESTADEOScol` VARCHAR(45) NULL,
  `EDO_ABR` VARCHAR(8) NULL,
  `PAIS` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_ESTADO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`MUNICIPIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`MUNICIPIOS` (
  `ID_MUNICIPIO` INT NOT NULL,
  `NOM_MPIO` VARCHAR(60) NULL,
  `MPIO_ABR` VARCHAR(60) NULL,
  `ID_EDOMPIO` INT NULL,
  `ID_ESTADO` INT NULL,
  PRIMARY KEY (`ID_MUNICIPIO`),
  CONSTRAINT `ID_ESTADO_DOM`
    FOREIGN KEY (`ID_ESTADO`)
    REFERENCES `CostanzoVentas`.`ESTADOS` (`ID_ESTADO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_ESTADO_DOM_idx` ON `CostanzoVentas`.`MUNICIPIOS` (`ID_ESTADO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`DOMICILIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`DOMICILIOS` (
  `ID_DOMICILIO` INT NOT NULL,
  `CALLE` VARCHAR(80) NULL,
  `NUMERO` VARCHAR(10) NULL,
  `COLONIA` VARCHAR(45) NULL,
  `CP` INT(8) NULL,
  `INTERIOR` VARCHAR(40) NULL,
  `ID_MUNICIPIO` INT NULL,
  `ID_CLIENTE` INT NULL,
  PRIMARY KEY (`ID_DOMICILIO`),
  CONSTRAINT `ID_CLIENTE_DOM`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `CostanzoVentas`.`CLIENTES` (`ID_CLIENTE`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `ID_MUNICIPIO_DOM`
    FOREIGN KEY (`ID_MUNICIPIO`)
    REFERENCES `CostanzoVentas`.`MUNICIPIOS` (`ID_MUNICIPIO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_CLIENTE_DOM_idx` ON `CostanzoVentas`.`DOMICILIOS` (`ID_CLIENTE` ASC) VISIBLE;

CREATE INDEX `ID_MUNICIPIO_DOM_idx` ON `CostanzoVentas`.`DOMICILIOS` (`ID_MUNICIPIO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`PEDIDOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`PEDIDOS` (
  `ID_PEDIDO` INT NOT NULL,
  `FOLIO` INT NULL,
  `FECHA_PEDIDO` VARCHAR(27) NULL,
  `SUBTOTAL` DOUBLE NULL,
  `TOTAL` DOUBLE NULL,
  `DESCUENTO` DOUBLE NULL,
  `IMPUESTO` DOUBLE NULL,
  `IVA` DOUBLE NULL,
  `IEPS` DOUBLE NULL,
  `FORMA_PAGO` VARCHAR(50) NULL,
  `METODO_PAGO` VARCHAR(50) NULL,
  `FACTURA_NOM` VARCHAR(180) NULL,
  `ID_CLIENTE` INT NULL,
  `ID_DOMICILIO` INT NULL,
  PRIMARY KEY (`ID_PEDIDO`),
  CONSTRAINT `ID_CLIENTE_PEDIDO`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `CostanzoVentas`.`CLIENTES` (`ID_CLIENTE`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `ID_DOMICILIO_PEDIDO`
    FOREIGN KEY (`ID_DOMICILIO`)
    REFERENCES `CostanzoVentas`.`DOMICILIOS` (`ID_DOMICILIO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_CLIENTE_PEDIDO_idx` ON `CostanzoVentas`.`PEDIDOS` (`ID_CLIENTE` ASC) VISIBLE;

CREATE INDEX `ID_DOMICILIO_PEDIDO_idx` ON `CostanzoVentas`.`PEDIDOS` (`ID_DOMICILIO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`STATUS_PEDIDOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`STATUS_PEDIDOS` (
  `ID_STATUS` INT NOT NULL,
  `STATUS` VARCHAR(45) NULL,
  `DESCRIPCION` VARCHAR(150) NULL,
  `ID_PEDIDO` INT NULL,
  PRIMARY KEY (`ID_STATUS`),
  CONSTRAINT `ID_PEDIDO_STATUS`
    FOREIGN KEY (`ID_PEDIDO`)
    REFERENCES `CostanzoVentas`.`PEDIDOS` (`ID_PEDIDO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_PEDIDO_STATUS_idx` ON `CostanzoVentas`.`STATUS_PEDIDOS` (`ID_PEDIDO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`ARTICULOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`ARTICULOS` (
  `ID_ARTICULO` VARCHAR(10) NOT NULL,
  `CODIGO` VARCHAR(10) NULL,
  `CODIGO_BARRAS` VARCHAR(50) NULL,
  `LINEA` VARCHAR(10) NULL,
  `DESCRIPCION` VARCHAR(250) NULL,
  `CATEGORIA` VARCHAR(80) NULL,
  `EXISTENCIA` INT NULL,
  `UNIDAD` INT(11) NULL,
  `GRANEL` INT(11) NULL,
  `PESO` DOUBLE NULL,
  `PAQUETE` INT(11) NULL,
  `BLOQUEO` INT(11) NULL,
  PRIMARY KEY (`ID_ARTICULO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`EQUIVALENCIAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`EQUIVALENCIAS` (
  `ID_EQUIVALENCIA` INT NOT NULL,
  `DESCRIPCION` VARCHAR(250) NULL,
  `UNIDAD_MEDIDA` VARCHAR(8) NULL,
  `CONVERSION` VARCHAR(10) NULL,
  `ID_ARTICULO` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_EQUIVALENCIA`),
  CONSTRAINT `ID_ARTICULO_EQUI`
    FOREIGN KEY (`ID_ARTICULO`)
    REFERENCES `CostanzoVentas`.`ARTICULOS` (`ID_ARTICULO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_ARTICULO_EQUI_idx` ON `CostanzoVentas`.`EQUIVALENCIAS` (`ID_ARTICULO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`LISTA_PRECIOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`LISTA_PRECIOS` (
  `ID_LISTA_PRECIOS` INT NOT NULL,
  `PRECIO_VENTA` DOUBLE NULL,
  `COSTO_COMPRA` VARCHAR(45) NULL,
  `IMPUESTO` VARCHAR(8) NULL,
  `LISTA_CAT` VARCHAR(10) NULL,
  `CATEGORIA` VARCHAR(10) NULL,
  `SAT_CLAVE` VARCHAR(20) NULL,
  `SAT_UM` VARCHAR(20) NULL,
  `ID_ARTICULO` VARCHAR(10) NULL,
  `ID_PAQUETE` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_LISTA_PRECIOS`),
  CONSTRAINT `ID_ARTICULO_LISTA`
    FOREIGN KEY (`ID_ARTICULO`)
    REFERENCES `CostanzoVentas`.`ARTICULOS` (`ID_ARTICULO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_ARTICULO_LISTA_idx` ON `CostanzoVentas`.`LISTA_PRECIOS` (`ID_ARTICULO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`DISPONIBILIDAD`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`DISPONIBILIDAD` (
  `ID_DISPONIBILIDAD` INT ZEROFILL NOT NULL,
  `STATUS` ENUM('DISPONIBLE', 'FALTANTE') NULL,
  `ID_ARTICULO` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_DISPONIBILIDAD`),
  CONSTRAINT `ID_ARTICULO_DISPO`
    FOREIGN KEY (`ID_ARTICULO`)
    REFERENCES `CostanzoVentas`.`ARTICULOS` (`ID_ARTICULO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_ARTICULO_DISPO_idx` ON `CostanzoVentas`.`DISPONIBILIDAD` (`ID_ARTICULO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`CONTENIDO_PEDIDOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`CONTENIDO_PEDIDOS` (
  `ID_CONTENIDO_PEDIDO` INT NOT NULL,
  `DESCRIPCION` VARCHAR(250) NULL,
  `UNIDAD` INT NULL,
  `CANTIDAD` INT NULL,
  `VALOR_UNITARIO` DOUBLE NULL,
  `IMPORTE` DOUBLE NULL,
  `ID_PEDIDO` INT NULL,
  `ID_ARTICULO` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_CONTENIDO_PEDIDO`),
  CONSTRAINT `ID_PEDIDO_CONT`
    FOREIGN KEY (`ID_PEDIDO`)
    REFERENCES `CostanzoVentas`.`PEDIDOS` (`ID_PEDIDO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `ID_ARTICULO_CONT`
    FOREIGN KEY (`ID_ARTICULO`)
    REFERENCES `CostanzoVentas`.`ARTICULOS` (`ID_ARTICULO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_PEDIDO_CONT_idx` ON `CostanzoVentas`.`CONTENIDO_PEDIDOS` (`ID_PEDIDO` ASC) VISIBLE;

CREATE INDEX `ID_ARTICULO_CONT_idx` ON `CostanzoVentas`.`CONTENIDO_PEDIDOS` (`ID_ARTICULO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`INFORMACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`INFORMACION` (
  `ID_INFORMACION` INT NOT NULL,
  `TELEFONO` VARCHAR(18) NULL,
  `EMAIL` VARCHAR(45) NULL,
  `INFORMACIONcol` VARCHAR(50) NULL,
  `ID_CLIENTES` INT NULL,
  PRIMARY KEY (`ID_INFORMACION`),
  CONSTRAINT `ID_CLIENTE_INFO`
    FOREIGN KEY (`ID_CLIENTES`)
    REFERENCES `CostanzoVentas`.`CLIENTES` (`ID_CLIENTE`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_CLIENTE_INFO_idx` ON `CostanzoVentas`.`INFORMACION` (`ID_CLIENTES` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`AUTORIZADOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`AUTORIZADOS` (
  `ID_AUTORIZADOS` INT NOT NULL,
  `AUTORIZA` VARCHAR(55) NULL,
  `FECHA` DATE NULL,
  `DESCRIPCION` VARCHAR(250) NULL,
  `ID_PEDIDO` INT NULL,
  PRIMARY KEY (`ID_AUTORIZADOS`),
  CONSTRAINT `ID_PEDIDO_AUTO`
    FOREIGN KEY (`ID_PEDIDO`)
    REFERENCES `CostanzoVentas`.`PEDIDOS` (`ID_PEDIDO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_PEDIDO_AUTO_idx` ON `CostanzoVentas`.`AUTORIZADOS` (`ID_PEDIDO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`DEVOLUCIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`DEVOLUCIONES` (
  `ID_DEVOLUCIONES` INT NOT NULL,
  `MOTIVO` VARCHAR(250) NULL,
  `ID_PEDIDO` INT NULL,
  PRIMARY KEY (`ID_DEVOLUCIONES`),
  CONSTRAINT `ID_PEDIDO_DEVO`
    FOREIGN KEY (`ID_PEDIDO`)
    REFERENCES `CostanzoVentas`.`PEDIDOS` (`ID_PEDIDO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_PEDIDO_DEVO_idx` ON `CostanzoVentas`.`DEVOLUCIONES` (`ID_PEDIDO` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `CostanzoVentas`.`NOTIFICACIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CostanzoVentas`.`NOTIFICACIONES` (
  `ID_NOTIFICACION` INT NOT NULL,
  `STATUS` ENUM('ACTIVADA', 'DESACTIVADA') NULL,
  `DESCRIPCION` VARCHAR(250) NULL,
  `ID_PEDIDO` INT NULL,
  PRIMARY KEY (`ID_NOTIFICACION`),
  CONSTRAINT `ID_PEDIDO_NOT`
    FOREIGN KEY (`ID_PEDIDO`)
    REFERENCES `CostanzoVentas`.`PEDIDOS` (`ID_PEDIDO`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `ID_PEDIDO_NOT_idx` ON `CostanzoVentas`.`NOTIFICACIONES` (`ID_PEDIDO` ASC) VISIBLE;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
